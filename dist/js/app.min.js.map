{"version":3,"sources":["app.geogoncalo.gerenciador.js","app.geogoncalo.js","app.geogoncalo.login.js","app.geogoncalo.mapa.js","constants/constants.js","constants/maps.constants.js","controllers/app.controller.js","controllers/gerenciador.cadastro.ctrl.js","controllers/gerenciador.editar_obra.ctrl.js","controllers/gerenciador.gerenciamento.ctrl.js","controllers/gerenciador.menu.ctrl.js","controllers/login.login.ctrl.js","controllers/mapa.mapa.ctrl.js","controllers/menu.top.ctrl.js","services/api.autenticacao.service.js","services/api.service.js"],"names":["Config","$routeProvider","CredenciaisResolve","AutenticacaoService","$window","Constants","$cookies","getObject","location","href","server","url","when","templateUrl","resolve","credenciais","controller","otherwise","$inject","Run","$rootScope","$location","ApiService","greetings","usuario","saudacao","hora","Date","getHours","$","notify","message","nome","type","animate","enter","exit","icon","delay","angular","module","config","run","constant","map","margens","lat","lng","AppController","$scope","$timeout","$on","loading","CadastroController","$compile","marker","geocoder","infowindow","marcador","obra","cadastrarMarcador","file","myFile","$emit","then","res","uploadImagem","data","id","myfile","setMap","modal","error","listarTipos","tipos","setCategorias","categorias","copy","listarCategoriasPorTipo","tipoId","listarStatus","status","modalCadastro","initMap","addMarker","event","latitude","latLng","longitude","latlng","google","maps","LatLng","panTo","setPosition","geocode","results","GeocoderStatus","OK","rua","formatted_address","content","compiled","setContent","InfoWindow","open","Map","document","getElementById","center","zoom","Geocoder","Marker","Polygon","paths","strokeColor","strokeOpacity","strokeWeight","fillColor","fillOpacity","addListener","EditarObraController","$routeParams","init","selecionarMarcador","obraId","listarCategorias","statusList","atualizarObra","path","err","GerenciamentoController","$routes","listarMarcadores","marcadores","deletarMarcador","atualizarStatusObra","statusId","MenuController","itens","link","icone","LoginController","qs","search","console","log","logout","put","login","credencial","putObject","funcionario","MapaController","markersObjects","filtros","gerarMarcadores","listarRelacionados","categoriaId","listarObrasRelacionadas","relacionados","obras","filter","categoria","tipo","equipamentos","servicos","exibirObra","selecionarObra","markers","i","length","position","parseFloat","title","denominacao","animation","Animation","DROP","categoria_id","$apply","push","removerMarcadores","filtrarMarcadores","filtro","isInArray","value","array","indexOf","adicionarCategoriaAoFiltro","splice","MenuTopController","$route","$http","this","post","get","autenticar","service","listarMarcadoresPorCategoria","atuarlizarMarcador","listarObras","arquivo","fd","FormData","append","transformRequest","identity","headers","Content-Type","undefined"],"mappings":"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","file":"app.min.js","sourcesContent":["(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\", ['ngRoute', 'app.geogoncalo', 'file-model', 'ui.utils.masks', 'ngCookies'])\r\n    .config(Config)\r\n    .run(Run);\r\n\r\n    function Config($routeProvider){\r\n        $routeProvider\r\n            .when(\"/\", {\r\n                templateUrl: 'dist/views/home.html',\n                resolve: {\n                    credenciais: CredenciaisResolve\n                }\r\n            })\r\n            .when(\"/cadastrar\", {\r\n                templateUrl: 'dist/views/cadastro.html',\r\n                controller: \"cadastro.ctrl\"\r\n            })\r\n            .when(\"/gerenciar\", {\r\n                templateUrl: 'dist/views/gerenciamento.html',\r\n                controller: \"gerenciamento.ctrl\"\r\n            })\r\n            .when(\"/editar/:obraId\", {\r\n                templateUrl: 'dist/views/editar_obra.html',\r\n                controller: \"editar_obra.ctrl\"\r\n            })\r\n            .otherwise(\"/\");\r\n\r\n        function CredenciaisResolve(AutenticacaoService, $window, Constants, $cookies){\r\n            if(!!!$cookies.getObject(\"credencial\")){\r\n                $window.location.href = Constants.server.url + \"login.html#?logout=true\";\r\n            }\r\n        }\r\n\n        CredenciaisResolve.$inject = ['api.autenticacao.service', '$window', 'Constants', '$cookies'];\r\n    }\r\n\r\n    function Run($rootScope, $location, ApiService, $window, $cookies){\r\n\t\tif(!!$cookies.getObject(\"credencial\")){\r\n\t\t\tgreetings($cookies.getObject(\"credencial\"));\r\n\t\t}\r\n\r\n\t\tfunction greetings(usuario){\r\n\t\t\tvar saudacao = \"\";\r\n\t\t\tvar hora = new Date().getHours();\r\n\r\n\t\t\tif(hora >= 5 && hora < 13){\r\n\t\t\t\tsaudacao = \"Bom dia \";\r\n\t\t\t} else if(hora >= 13 && hora < 18){\r\n\t\t\t\tsaudacao = \"Boa tarde \";\r\n\t\t\t} else {\r\n\t\t\t\tsaudacao = \"Boa noite \";\r\n\t\t\t}\r\n\r\n\t\t\t$.notify({\r\n\t\t\t\tmessage: saudacao  +'<b>'+ usuario.nome  + \"</b>! Tenha um ótimo trabalho.\"\r\n\t\t\t},{\r\n\t\t\t\ttype: 'success',\r\n\t\t\t\tanimate: {\r\n\t\t\t\t\tenter: 'animated fadeInDown',\r\n\t\t\t\t\texit: 'animated fadeOutUp'\r\n\t\t\t\t},\r\n\t\t\t\ticon: 'glyphicon glyphicon-warning-sign',\r\n\t\t\t\tdelay: 5000\r\n\t\t\t});\r\n\t\t}\r\n\t}\r\n\r\n    Config.$inject = ['$routeProvider'];\r\n    Run.$inject = ['$rootScope', '$location', 'api.service', '$window', '$cookies'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.geogoncalo\", []);\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.login\", ['app.geogoncalo', 'ngCookies']); \r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.mapa\", ['app.geogoncalo']);\r\n})();\r\n","(function(){lat:\r\n    angular.module(\"app.geogoncalo\").constant(\"Constants\", {\r\n        server:{\r\n            // url: \"http://localhost:8080/geo_goncalo/\"\r\n            url: \"http://sistemas.saogoncalo.rn.gov.br/geosga/\"\r\n        },\r\n        map: {\r\n            margens: [\r\n                {lat:-5.836665426830297, lng:-35.30731201171875},\r\n                {lat:-5.82505284759278, lng:-35.28190612792969},\r\n                {lat:-5.804901037565987, lng:-35.25890350341797},\r\n                {lat:-5.7820159050934095, lng:-35.24860382080078},\r\n                {lat:-5.7714269482752405, lng:-35.26542663574219},\r\n                {lat:-5.763570497636473, lng:-35.286712646484375},\r\n                {lat:-5.732826820844514, lng:-35.290489196777344},\r\n                {lat:-5.71642951546535, lng:-35.271949768066406},\r\n                {lat:-5.696273850826121, lng:-35.263023376464844},\r\n                {lat:-5.69388245380099, lng:-35.27366638183594},\r\n                {lat:-5.704131228074497, lng:-35.27812957763672},\r\n                {lat:-5.716771130790152, lng:-35.28327941894531},\r\n                {lat:-5.72155372392195, lng:-35.29529571533203},\r\n                {lat:-5.7229201717573135, lng:-35.30628204345703},\r\n                {lat:-5.725653057629539, lng:-35.327911376953125},\r\n                {lat:-5.7277027134569725, lng:-35.34919738769531},\r\n                {lat:-5.730777183407863, lng:-35.372886657714844},\r\n                {lat:-5.730435576452969, lng:-35.40275573730469},\r\n                {lat:-5.727361104663058, lng:-35.420265197753906},\r\n                {lat:-5.728215126264805, lng:-35.431766510009766},\r\n                {lat:-5.72872753861297, lng:-35.44258117675781},\r\n                {lat:-5.7277027134569725, lng:-35.45270919799805},\r\n                {lat:-5.734791049814115, lng:-35.45356750488281},\r\n                {lat:-5.7435018967610825, lng:-35.45391082763672},\r\n                {lat:-5.754518365355367, lng:-35.45391082763672},\r\n                {lat:-5.7616917650638975, lng:-35.453224182128906},\r\n                {lat:-5.771170761384021, lng:-35.45459747314453},\r\n                {lat:-5.7832968138611225, lng:-35.45682907104492},\r\n                {lat:-5.793800156299324, lng:-35.45940399169922},\r\n                {lat:-5.808487429417798, lng:-35.46086311340332},\r\n                {lat:-5.820014962775452, lng:-35.4612922668457},\r\n                {lat:-5.831713032727614, lng:-35.461978912353516},\r\n                {lat:-5.837348512238894, lng:-35.46180725097656},\r\n                {lat:-5.839995460332288, lng:-35.45116424560547},\r\n                {lat:-5.843069319841188, lng:-35.43837547302246},\r\n                {lat:-5.845630856540897, lng:-35.425758361816406},\r\n                {lat:-5.8478508455303, lng:-35.409278869628906},\r\n                {lat:-5.849387755823986, lng:-35.396575927734375},\r\n                {lat:-5.844008551325454, lng:-35.396318435668945},\r\n                {lat:-5.84178854709622, lng:-35.38825035095215},\r\n                {lat:-5.8397393046117125, lng:-35.3774356842041},\r\n                {lat:-5.838800065967573, lng:-35.36799430847168},\r\n                {lat:-5.837775440196464, lng:-35.35700798034668},\r\n                {lat:-5.837177740964791, lng:-35.346364974975586},\r\n                {lat:-5.83640926958747, lng:-35.33675193786621},\r\n                {lat:-5.8363238838138285, lng:-35.325422286987305},\r\n                {lat:-5.83760466905246, lng:-35.322933197021484},\r\n                {lat:-5.840507771422012, lng:-35.31829833984375},\r\n                {lat:-5.840507771422012, lng:-35.315208435058594},\r\n                {lat:-5.840678541681122, lng:-35.31280517578125},\r\n                {lat:-5.838373138790638, lng:-35.31083106994629},\r\n                {lat:-5.83692158395608, lng:-35.309200286865234}\r\n            ]\r\n        }\r\n    });\r\n})();\r\n","","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"app.controller\", AppController);\r\n\r\n    function AppController($scope, $timeout){\r\n        $scope.$on('LOAD', function(){\r\n            $scope.loading = true;\r\n        });\r\n\r\n        $scope.$on('UNLOAD', function(){\r\n            $timeout(function(){\r\n                $scope.loading = false;\r\n            }, 500);\r\n        });\r\n    }\r\n\r\n    AppController.$inject = ['$scope', '$timeout'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"cadastro.ctrl\", CadastroController);\r\n\r\n    function CadastroController($scope, ApiService, $compile, AutenticacaoService, $window, Constants, $timeout, $location){\r\n        var map, marker, geocoder, infowindow;\r\n\r\n        $scope.marcador = {};\r\n        $scope.marcador.obra = {};\r\n\r\n        $scope.cadastrarMarcador = function(marcador){\r\n            var file = $scope.myFile;\r\n            $scope.$emit('LOAD');\r\n\r\n            ApiService.cadastrarMarcador(marcador)\r\n            .then(function(res){\r\n                $scope.marcador = {};\r\n\r\n                if(!!file){\r\n                    ApiService.uploadImagem(file, res.data.obra.id)\r\n                    .then(function(res){\r\n                        $scope.myfile = {};\r\n\r\n                        marker.setMap(null);\r\n\r\n                        $scope.$emit('UNLOAD');\r\n\r\n                        $timeout(function(){\r\n                            $.notify({message: \"Obra cadastrada com sucesso!\"}, {type: \"success\"});\r\n                            $(\"#modal-cadastrar\").modal(\"hide\");\r\n                        }, 600);\r\n\r\n                    }, function(error){\r\n                        $.notify({message: \"Obra cadastrada com sucesso porém ocorreu um erro ao enviar a(s) imagens.\"}, {type: \"warning\"});\r\n                        $scope.$emit('UNLOAD');\r\n                    });\r\n                }\r\n\r\n            }, function(error){\r\n                $.notify({message: \"Ocorreu um erro ao cadastrar a obra, tente novamente. Se o erro persistir, contact o administrador do sistema.\"}, {type: \"warning\"});\r\n                $scope.$emit('UNLOAD');\r\n            });\r\n        };\r\n\r\n        $scope.listarTipos = function(){\r\n            ApiService.listarTipos()\r\n            .then(function(res){\r\n                $scope.tipos = res.data;\r\n            }, null);\r\n        };\r\n\r\n        $scope.setCategorias = function(categorias){\r\n            $scope.categorias = angular.copy(categorias);\r\n        };\r\n\r\n        $scope.listarCategoriasPorTipo = function(tipoId){\r\n            ApiService.listarCategoriasPorTipo(tipoId)\r\n            .then(function(res){\r\n                $scope.categorias = res.data;\r\n            }, null);\r\n        };\r\n\r\n        $scope.listarStatus = function(){\r\n            ApiService.listarStatus()\r\n            .then(function(res){\r\n                $scope.status = res.data;\r\n            }, null);\r\n        }();\r\n\r\n        $scope.modalCadastro = function(){\r\n            $(\"#modal-cadastrar\").modal(\"show\");\r\n        };\r\n\r\n        $scope.initMap = function(){\r\n            function addMarker(event){\r\n\r\n                marker.setMap(map);\r\n                $scope.marcador = {};\r\n                $scope.marcador.obra = {};\r\n                $scope.marcador.latitude = event.latLng.lat();\r\n                $scope.marcador.longitude = event.latLng.lng();\r\n\r\n                var latlng = new google.maps.LatLng($scope.marcador.latitude, $scope.marcador.longitude);\r\n\r\n                map.panTo(latlng);\r\n                marker.setPosition(latlng);\r\n\r\n                geocoder.geocode({'location': latlng}, function(results, status) {\r\n                    if (status === google.maps.GeocoderStatus.OK) {\r\n                        if(!!results[0]){\r\n                            $scope.marcador.obra.rua = results[0].formatted_address;\r\n                        }\r\n\r\n                        var content = '<div.content><h4>' + results[0].formatted_address + '</h4>' +\r\n                                      '<button class=\"btn btn-primary\" ng-click=\"modalCadastro()\">Cadastrar obra</button></div>';\r\n\r\n                        var compiled = $compile(content)($scope);\r\n\r\n                        if(!!!infowindow){\r\n                            infowindow = new google.maps.InfoWindow({\r\n                                content: compiled[0]\r\n                            });\r\n                        } else {\r\n                            infowindow.setContent(compiled[0]);\r\n                        }\r\n\r\n                        infowindow.open(map, marker);\r\n                    }\r\n                });\r\n            }\r\n\r\n            map = new google.maps.Map(document.getElementById('mapa'), {\r\n                center: {lat: -5.7968718, lng: -35.4148505},\r\n                zoom: 12\r\n            });\r\n\r\n            geocoder = new google.maps.Geocoder();\r\n\r\n            marker = new google.maps.Marker({\r\n                map: map,\r\n            });\r\n\r\n            var margens = new google.maps.Polygon({\r\n                paths: Constants.map.margens,\r\n                strokeColor: '#FF0000',\r\n                strokeOpacity: 0.6,\r\n                strokeWeight: 1,\r\n                fillColor: '#FF0000',\r\n                fillOpacity: 0.15\r\n            });\r\n\r\n            margens.setMap(map);\r\n\r\n            google.maps.event.addListener(margens, \"click\", function(event){\r\n                addMarker(event);\r\n            })\r\n\r\n            google.maps.event.addListener(map,\"click\", function (event) {\r\n                addMarker(event);\r\n            });\r\n        }();\r\n\r\n        $scope.listarTipos();\r\n    }\r\n\r\n    CadastroController.$inject = ['$scope', 'api.service', '$compile', 'api.autenticacao.service', '$window', 'Constants', '$timeout', '$location'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"editar_obra.ctrl\", EditarObraController);\r\n\r\n    function EditarObraController($scope, ApiService, $routeParams, $location){\r\n\r\n        $scope.init = function(){\r\n            ApiService.listarTipos()\r\n            .then(function(res){\r\n                $scope.tipos = res.data;\r\n            });\r\n\r\n            ApiService.selecionarMarcador($routeParams.obraId)\r\n            .then(function(res){\r\n                $scope.marcador = res.data;\r\n            }, null);\r\n\r\n            ApiService.listarCategorias()\r\n            .then(function(res){\r\n                $scope.categorias = res.data;\r\n            });\r\n        }();\r\n\r\n        $scope.listarTipos = function(){\r\n            ApiService.listarTipos()\r\n            .then(function(res){\r\n                $scope.tipos = res.data;\r\n            }, null);\r\n        };\r\n\r\n        $scope.listarCategoriasPorTipo = function(tipoId){\r\n            ApiService.listarCategoriasPorTipo(tipoId)\r\n            .then(function(res){\r\n                $scope.categorias = res.data;\r\n            }, null);\r\n        };\r\n\r\n        $scope.listarStatus = function(){\r\n            ApiService.listarStatus()\r\n            .then(function(res){\r\n                $scope.statusList = res.data;\r\n            }, null);\r\n        }();\r\n\r\n        $scope.atualizarObra = function(obra){\r\n            $scope.$emit('LOAD');\r\n\r\n            ApiService.atualizarObra(obra)\r\n            .then(function(res){\r\n                $scope.$emit('UNLOAD');\r\n                $.notify({message: 'Obra atualizada com sucesso!'}, {type: 'success'});\r\n                $location.path(\"/gerenciar\");\r\n            }, function(err){\r\n                $scope.$emit('UNLOAD');\r\n                $.notify({message: 'Ocorreu um erro ao atualizar a obra, tente novamente. Se o erro persistir, contacte o administrador do sistema.'}, {type: 'success'});\r\n            });\r\n        };\r\n\r\n        $scope.listarTipos();\r\n    }\r\n\r\n    EditarObraController.$inject = ['$scope', 'api.service', '$routeParams', '$location'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"gerenciamento.ctrl\", ['$scope', 'api.service', '$route', GerenciamentoController]);\r\n\r\n    function GerenciamentoController($scope, ApiService, $routes){\r\n        $scope.$emit('UNLOAD');\r\n        $scope.listarMarcadores = function(){\r\n            $scope.$emit('LOAD');\r\n\r\n            ApiService.listarMarcadores()\r\n            .then(function(res){\r\n                $scope.marcadores = res.data;\r\n                $scope.$emit('UNLOAD');\r\n            }, function(err){\r\n                $scope.$emit('UNLOAD');\r\n                $.notify({message: 'Ocorreu um erro ao listar as obras, tente novamente. Se o erro persistir, contact o administrador do sistema.'}, {type: \"warning\"});\r\n            });\r\n        };\r\n\r\n        $scope.deletarMarcador = function(id){\r\n            $scope.$emit('LOAD');\r\n\r\n            ApiService.deletarMarcador(id)\r\n            .then(function(res){\r\n                $.notify({message: \"A obra foi deletada com sucesso!\"}, {type: 'success'});\r\n                $scope.listarMarcadores();\r\n            }, function(err){\r\n                $.notify({message: \"Ocorreu um erro ao deletar a obra, tente novamente. Se o erro persistir, contacte o administrador do sistema.\"}, {type: \"warning\"});\r\n                $scope.$emit('UNLOAD');\r\n            });\r\n        };\r\n\r\n        $scope.listarStatus = function(){\r\n            ApiService.listarStatus()\r\n            .then(function(res){\r\n                $scope.statusList = res.data;\r\n            }, null);\r\n        }();\r\n\r\n        $scope.listarTipos = function(){\r\n            ApiService.listarTipos()\r\n            .then(function(res){\r\n                $scope.tipos = res.data;\r\n            }, null);\r\n        }();\r\n\r\n        $scope.listarCategoriasPorTipo = function(tipoId){\r\n            ApiService.listarCategoriasPorTipo(tipoId)\r\n            .then(function(res){\r\n                $scope.categorias = res.data;\r\n            }, null);\r\n        };\r\n\r\n        $scope.atualizarStatusObra = function(statusId, obraId){\r\n            $scope.$emit('LOAD');\r\n\r\n            ApiService.atualizarStatusObra(statusId, obraId)\r\n            .then(function(res){\r\n                $.notify({message: \"O status da obra foi atualizado com sucesso!\"}, {type: 'success'});\r\n                $scope.$emit('UNLOAD');\r\n            }, function(err){\r\n                $.notify({message: \"Ocorreu um erro ao atualizar o status da obra, tente novamente. Se o erro persistir, contacte o administrador do sistema.\"}, {type: 'warning'});\r\n                $scope.$emit('UNLOAD');\r\n            });\r\n        };\r\n\r\n        $scope.listarStatus = function(){\r\n            ApiService.listarStatus()\r\n            .then(function(res){\r\n                $scope.status = res.data;\r\n            });\r\n        }();\r\n\r\n        $scope.listarMarcadores();\r\n    }\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"menu.ctrl\", ['$scope', MenuController]);\r\n\r\n    function MenuController($scope){        \r\n        $scope.itens = [\r\n            {\r\n                link: '#/',\r\n                nome: 'Inicio',\r\n                icone: 'fa fa-home'\r\n            },\r\n            {\r\n                link: '#/gerenciar',\r\n                nome: 'Gerenciar obras',\r\n                icone: 'fa fa-list'\r\n            },\r\n            {\r\n                link: '#/cadastrar',\r\n                nome: 'Cadastrar Obras',\r\n                icone: 'fa fa-plus'\r\n            }\r\n        ];\r\n    }\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.login\").controller(\"login.ctrl\", LoginController);\r\n\r\n    function LoginController($scope, $window, $location, Constants, AutenticacaoService, $cookies){\r\n        var qs = $location.search();\r\n        console.log(qs);\r\n\r\n        if(qs.logout == \"true\")\r\n            AutenticacaoService.logout()\r\n            .then(function(res){\r\n                $.notify({message: \"Logout efetuado com sucesso!\"}, {type: \"success\"});\r\n                $cookies.put(\"credencial\", null);\r\n            });\r\n\r\n        $scope.login = function(credencial){\r\n            $.notify({message: \"Efetuando login.\"}, {type: \"info\"});\r\n            AutenticacaoService.login(credencial)\r\n            .then(function(res){\r\n                $cookies.putObject('credencial', res.data.funcionario);\r\n                $window.location = Constants.server.url;\r\n            }, function(err){\r\n                $.notify({message: \"Login ou senha incorretos. Tente novamente.\"}, {type: \"danger\"});\r\n            });\r\n        };\r\n    }\r\n\r\n    LoginController.$inject = ['$scope', '$window', '$location', 'Constants', 'api.autenticacao.service', '$cookies'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.mapa\").controller(\"mapa.ctrl\", MapaController);\r\n\r\n    function MapaController($scope, ApiService, Constants, $timeout){\r\n        var map, marker, geocoder, infowindow;\r\n        $scope.markersObjects = [];\r\n        $scope.filtros = [];\r\n\r\n        $scope.listarMarcadores = function(){\r\n            ApiService.listarMarcadores()\r\n            .then(function(res){\r\n                $scope.marcadores = res.data;\r\n                $scope.gerarMarcadores($scope.marcadores);\r\n            }, null);\r\n        };\r\n\r\n        $scope.listarRelacionados = function(obraId, categoriaId){\r\n            ApiService.listarObrasRelacionadas(obraId, categoriaId)\r\n            .then(function(res){\r\n                $scope.relacionados = res.data;\r\n            });\r\n        };\r\n\r\n        $scope.listarCategorias = function(){\r\n            ApiService.listarCategorias()\r\n            .then(function(res){\r\n                $scope.obras = res.data.filter(function(categoria){\r\n                    if(categoria.tipo.id == 1)\r\n                        return categoria;\r\n                });\r\n\r\n                $scope.equipamentos = res.data.filter(function(categoria){\r\n                    if(categoria.tipo.id == 2)\r\n                        return categoria;\r\n                });\r\n\r\n                $scope.servicos = res.data.filter(function(categoria){\r\n                    if(categoria.tipo.id == 3)\r\n                        return categoria;\r\n                });\r\n            }, null);\r\n        }();\r\n\r\n        $scope.exibirObra = function(obraId){\r\n            ApiService.selecionarObra(obraId)\r\n            .then(function(res){\r\n                $scope.marcador = {};\r\n                $scope.marcador.obra = res.data;\r\n                $scope.listarRelacionados(obraId, $scope.marcador.obra.categoria.id);\r\n            })\r\n        }\r\n\r\n        $scope.initMap = function(){\r\n            map = new google.maps.Map(document.getElementById('mapa'), {\r\n                center: {lat: -5.7968718, lng: -35.4148505},\r\n                zoom: 12\r\n            });\r\n\r\n            var margens = new google.maps.Polygon({\r\n                paths: Constants.map.margens,\r\n                strokeColor: '#FF0000',\r\n                strokeOpacity: 0.6,\r\n                strokeWeight: 1,\r\n                fillColor: '#FF0000',\r\n                fillOpacity: 0.15\r\n            });\r\n\r\n            margens.setMap(map);\r\n\r\n            $scope.listarMarcadores();\r\n        }();\r\n\r\n        $scope.gerarMarcadores = function(markers){\r\n            $scope.markersObjects = [];\r\n            markers = markers || $scope.marcadores;\r\n\r\n            for(var i = 0; i < markers.length; i++){\r\n                var marker = new google.maps.Marker({\r\n    \t\t    \tposition: {lat: parseFloat(markers[i].latitude), lng: parseFloat(markers[i].longitude)},\r\n    \t\t\t   \tmap: map,\r\n    \t\t    \ttitle: markers[i].obra.categoria.denominacao,\r\n    \t\t    \tanimation: google.maps.Animation.DROP,\r\n    \t\t\t\ticon: 'dist/img/50x60/ico_' + markers[i].obra.categoria.id +'.png',\r\n    \t\t    \tcategoria: markers[i].obra.categoria.denominacao,\r\n                    categoria_id: markers[i].obra.categoria.id\r\n    \t\t\t});\r\n\r\n                (function(marker, i) {\r\n    \t           \tgoogle.maps.event.addListener(marker, 'mousedown', function() {\r\n                        $scope.marcador = markers[i];\r\n                        $scope.listarRelacionados(markers[i].obra.id, markers[i].obra.categoria.id);\r\n                        $(\"#modal-obra\").modal(\"show\");\r\n\r\n\t\t                map.panTo({lat: parseFloat(markers[i].latitude), lng: parseFloat(markers[i].longitude)});\r\n                        $scope.$apply();\r\n    \t            });\r\n    \t        })(marker, i);\r\n\r\n    \t\t\tmarker.setMap(map);\r\n                $scope.markersObjects.push(marker);\r\n            }\r\n        };\r\n\r\n        $scope.removerMarcadores = function(){\r\n            for (var i = 0; i < $scope.markersObjects.length; i++) {\r\n                $scope.markersObjects[i].setMap(null);\r\n            }\r\n        }\r\n\r\n        $scope.filtrarMarcadores = function(markers, filtro){\r\n            markers = markers || $scope.markersObjects;\r\n            filtro = filtro || $scope.filtros;\r\n\r\n            if(filtro.length > 0){\r\n                function isInArray(value, array) {\r\n                    return array.indexOf(value) > -1;\r\n                }\r\n\r\n                for (var i = 0; i < markers.length; i++) {\r\n                    if(!isInArray(markers[i].categoria_id, filtro))\r\n                        markers[i].setMap(null);\r\n                }\r\n            } else {\r\n                $scope.removerMarcadores();\r\n                $scope.gerarMarcadores();\r\n            }\r\n\r\n            return;\r\n        }\r\n\r\n        $scope.adicionarCategoriaAoFiltro = function(categoria){\r\n            function isInArray(value, array) {\r\n                return array.indexOf(value) > -1;\r\n            }\r\n\r\n            if(!isInArray(categoria.id, $scope.filtros)){\r\n                $scope.filtros.push(categoria.id)\r\n            } else if($scope.filtros.indexOf(categoria.id) != -1){\r\n                $scope.filtros.splice($scope.filtros.indexOf(categoria.id), 1);\r\n            }\r\n        }\r\n    }\r\n\r\n    MapaController.$inject = ['$scope', 'api.service', 'Constants', '$timeout'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.gerenciador\").controller(\"menu.top.ctrl\",  MenuTopController);\r\n\r\n    function MenuTopController($scope, $route, $timeout, $cookies, $compile){\r\n        if(!!$cookies.getObject(\"credencial\")){\r\n            $scope.credencial = $cookies.getObject(\"credencial\");\r\n        }\r\n    }\r\n\r\n    MenuTopController.$inject = ['$scope', '$route', '$timeout', '$cookies', '$compile'];\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.geogoncalo\").service(\"api.autenticacao.service\", ['$http', 'Constants', AutenticacaoService]);\r\n\r\n    function AutenticacaoService($http, Constants){\r\n        this.login = function(credencial){\r\n            return $http.post(Constants.server.url + 'rest/autenticar/login', credencial);\r\n        };\r\n\r\n        this.logout = function(){\r\n            return $http.get(Constants.server.url + 'rest/autenticar/logout');\r\n        };\r\n\r\n        this.autenticar = function(){\r\n            return $http.get(Constants.server.url + 'rest/autenticar');\r\n        };\r\n    }\r\n})();\r\n","(function(){\r\n    \"use strict\";\r\n\r\n    angular.module(\"app.geogoncalo\").service(\"api.service\", ['$http', 'Constants', ApiService]);\r\n\r\n    function ApiService($http, Constants){\r\n\r\n        // --- Inicio api marcador --- //\r\n\r\n        this.listarMarcadores = function(marcador){\r\n            return $http.get(Constants.server.url + 'rest/marcadores');\r\n        };\r\n\r\n        this.listarMarcadoresPorCategoria = function(id){\r\n            return $http.get(Constants.server.url + 'rest/marcadores/categoria/' + id);\r\n        };\r\n\r\n        this.selecionarMarcador = function(id){\r\n            return $http.get(Constants.server.url + 'rest/marcador/' + id);\r\n        };\r\n\r\n        this.cadastrarMarcador = function(marcador){\r\n            return $http.post(Constants.server.url + 'rest/marcadores', marcador);\r\n        };\r\n\r\n        this.atuarlizarMarcador = function(id, marcador){\r\n            return $http.put(Constants.server.url + 'rest/marcador/' + id, marcador);\r\n        };\r\n\r\n        this.deletarMarcador = function(id){\r\n            return $http.delete(Constants.server.url + 'rest/marcador/' + id);\r\n        };\r\n\r\n        // --- Fim api marcador --- //\r\n\r\n        // --- Inicio api tipo --- //\r\n\r\n        this.listarTipos = function(){\r\n            return $http.get(Constants.server.url + 'rest/tipos');\r\n        };\r\n\r\n        // --- Fim api tipo --- //\r\n\r\n        // --- Inicio api categorias --- //\r\n\r\n        this.listarCategorias = function(){\r\n            return $http.get(Constants.server.url + 'rest/categorias');\r\n        };\r\n\r\n        this.listarCategoriasPorTipo = function(tipoId){\r\n            return $http.get(Constants.server.url + 'rest/categoria/tipo/' + tipoId);\r\n        };\r\n\r\n        // --- Fim api tipo --- //\r\n\r\n        this.selecionarObra = function(id){\r\n            return $http.get(Constants.server.url + 'rest/obra/' + id);\r\n        };\r\n\r\n        this.listarObras = function(){\r\n            return $http.get(Constants.server.url + 'rest/obras');\r\n        };\r\n\r\n        this.atualizarObra = function(obra){\r\n            return $http.put(Constants.server.url + 'rest/obra/' + obra.id, obra);\r\n        };\r\n\r\n        this.atualizarStatusObra = function(obraId, statusId){\r\n            return $http.put(Constants.server.url + 'rest/obra/' + obraId + '/status/' + statusId);\r\n        };\r\n\r\n        this.listarObrasRelacionadas = function(obraId, categoriaId){\r\n            return $http.get(Constants.server.url + 'rest/obra/' + obraId + '/categoria/' + categoriaId + '/relacionados');\r\n        };\r\n\r\n        // --- Inicio api status --- //\r\n\r\n        this.listarStatus = function(){\r\n            return $http.get(Constants.server.url + 'rest/status');\r\n        };\r\n\r\n        this.uploadImagem = function(arquivo, obraId){\r\n            var fd = new FormData();\r\n    \t\tfd.append('file', arquivo);\r\n    \t\tfd.append('obraId', obraId);\r\n\r\n            return $http.post(Constants.server.url + 'rest/arquivo/upload/' + obraId, fd, {\r\n    \t\t\ttransformRequest: angular.identity,\r\n    \t\t\theaders: {\r\n    \t\t\t\t'Content-Type': undefined\r\n    \t\t\t}\r\n    \t\t});\r\n        };\r\n    }\r\n})();\r\n"],"sourceRoot":"/source/"}